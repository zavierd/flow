# 图森产品数据导入报告

## 📋 项目概述
本次数据导入工作完成于2025年7月16日，将PDF文件中的**浙江图森定制家居股份有限公司**产品数据成功整理并导入到产品库管理系统数据库中。

## 📁 数据源文件
1. **图森产品价格说明表20240415.md** - 包含产品价格计算规则和产品规格
2. **图森C产品供货价表2020.12.md** - 包含具体的产品价格数据
3. **图森整体木作常规用材的说明2024.1.md** - 包含材料说明

## 🎯 数据整理策略

### 1. 品牌数据创建
- **品牌名称**: 图森定制家居
- **品牌编码**: TUSEN
- **品牌描述**: 浙江图森定制家居股份有限公司，专业从事整体木作定制家居产品的设计、生产和销售

### 2. 产品分类体系
根据PDF文件中的产品分类，创建了以下4个主要分类：
- **木门产品** (WOOD_DOOR) - 各类木门产品，包括单门、双门、子母门等
- **垭口窗套线条** (DOOR_WINDOW_TRIM) - 垭口、窗套及线条类产品
- **木饰面** (WOOD_VENEER) - 各类木饰面产品
- **柜类产品** (CABINET) - 各类柜体产品

### 3. 属性体系建立
创建了以下产品属性：
- **材质类别** (MATERIAL_TYPE) - 产品的材质类别编码
- **产品规格** (SPECIFICATION) - 产品的详细规格描述
- **厚度** (THICKNESS) - 产品厚度（45mm, 50mm等）
- **门扇类型** (DOOR_TYPE) - 门扇的类型（单门、双门、子母门等）
- **计价单位** (PRICE_UNIT) - 产品的计价单位

### 4. 属性值标准化
为每个属性创建了标准化的属性值：

#### 材质类别属性值（25个）
- J系列：J007, J009, J019, J020, J056, J061, J071, J072, J073
- B系列：B003, B005, B006, B007, B008
- D系列：D002, D004, D006, D007
- T系列（简美）：T001, T003, T004, T005, T006, T007, T008

#### 厚度属性值
- 45mm, 50mm

#### 门扇类型属性值
- 单开门, 双开门, 子母门, 双移门, 三移门, 四移门, 平板门

#### 计价单位属性值
- 元/个, 元/米, 元/㎡, 元/根, 元/块, 元/张

## 📊 数据导入统计

### 总体统计
- **品牌数量**: 2个（包含原有的ROYANA + 新增的图森）
- **分类数量**: 5个（包含原有的地柜 + 新增的4个分类）
- **属性数量**: 10个（包含原有的5个 + 新增的5个）
- **属性值数量**: 60个
- **SPU数量**: 8个（包含原有的4个 + 新增的4个）
- **SKU数量**: 74个（包含原有的25个 + 新增的49个）
- **属性关联数量**: 11个

### 新增图森产品统计
- **木门产品**: 21个SKU
- **垭口窗套线条**: 12个SKU
- **木饰面**: 5个SKU
- **柜类产品**: 5个SKU
- **简美系列**: 6个SKU

## 🏗️ SPU产品单元设计

### 1. 木门产品SPU
- **编码**: WOOD_DOOR_SPU
- **规格**: 标准门框尺寸：2335mm×905mm×300mm，推算后门扇净尺寸：2300mm×850mm
- **应用场景**: 适用于住宅、办公楼等各类建筑的室内门

### 2. 垭口窗套线条SPU
- **编码**: DOOR_WINDOW_TRIM_SPU
- **规格**: 标准垭口框厚300mm内，窗套框厚240mm内
- **应用场景**: 适用于门窗洞口装饰和收边处理

### 3. 木饰面SPU
- **编码**: WOOD_VENEER_SPU
- **规格**: 标准规格：2420mm×1200mm以内
- **应用场景**: 适用于墙面装饰和家具表面处理

### 4. 柜类产品SPU
- **编码**: CABINET_SPU
- **规格**: 按最大投影面积计算，柜子投影面积小于1㎡按1㎡计算
- **应用场景**: 适用于厨房、卧室、书房等各类储物需求

## 💰 价格数据示例

### 木门产品价格区间
- **最高价**: B005木门 - ¥2,965.00
- **最低价**: 50厚平板门 - ¥2,020.00
- **平均价**: 约¥2,500.00

### 垭口窗套线条价格区间
- **最高价**: 1#造型垭口 - ¥695.00/米
- **最低价**: 简美60mm窗套 - ¥105.00/米
- **平均价**: 约¥200.00/米

### 木饰面价格区间
- **标准价**: 平板木饰面 - ¥550.00/㎡
- **造型价**: 各类造型木饰面 - ¥650.00/㎡

## 🔗 属性关联示例

已为部分产品建立了属性关联关系：
- **J071木门** → J071材质 + 50mm厚度
- **J072木门** → J072材质
- **J073木门** → J073材质
- **B003木门** → B003材质
- **B005木门** → B005材质

## 📝 特殊说明和备注

### 产品特殊说明
- **J071**: 门扇厚度为50mm
- **D004/D006/D007**: D系列门型只限做混油、门扇厚度为50mm
- **简美系列窗套**: 无底座，套板为18mm多层板
- **双面垭口**: 无底座，套板为25mm多层板

### 价格计算规则
根据PDF文件中的价格说明表，产品价格计算包含以下因素：
- 标准尺寸基价
- 超标尺寸加价
- 不同门扇类型的系数
- 定制化程度的加价比例

## ✅ 数据质量保证

### 数据完整性
- 所有必填字段均已填写
- 价格数据来源于官方价格表
- 产品编码遵循统一规范

### 数据一致性
- 属性值标准化处理
- 分类层级结构清晰
- 品牌关联关系正确

### 数据准确性
- 价格数据与PDF文件一致
- 产品规格描述准确
- 材质编码对应正确

## 🚀 后续扩展建议

1. **补充产品图片**: 为每个SKU添加产品图片
2. **完善属性关联**: 为更多产品建立完整的属性关联
3. **增加库存管理**: 设置合理的库存数量和预警线
4. **价格体系优化**: 根据不同板子级别设置差异化价格
5. **产品详情完善**: 添加更详细的产品描述和使用说明

## 📈 系统兼容性

导入的数据完全兼容现有的产品库管理系统：
- 符合Django模型结构
- 支持现有的API接口
- 兼容Admin后台管理
- 满足前端展示需求

---

**导入完成时间**: 2025年7月16日  
**导入人员**: AI助手Claude  
**数据状态**: 已成功导入并验证 

## 十、超高部分数据缺失问题分析

### 问题描述
在数据导入过程中，发现图森产品的**超标准尺寸加价规则**（超高部分）数据存在缺失。这些数据在PDF文件中有详细说明，但在当前数据库中未完整体现。

### 缺失的数据内容

#### 1. 木门产品超高加价规则
- **单开门**：高度每加10mm加收20元，宽度每加10mm加收30元，墙厚每加10mm加收30元
- **子母门**：高度每加10mm加收30元，宽度每加10mm加收30元，墙厚每加10mm加收40元
- **双开门**：高度每加10mm加收40元，宽度每加10mm加收30元，墙厚每加10mm加收50元
- **三移门**：高度每加10mm加收50元，宽度每加10mm加收30元，墙厚每加10mm加收60元
- **四移门**：高度每加10mm加收60元，宽度每加10mm加收30元，墙厚每加10mm加收60元

#### 2. 垭口窗套超高加价规则
- **标准垭口**：框厚300mm内为标准，每超10mm加收5元/米
- **高度及宽度**：限2420mm以内，超2420mm规格单价×1.3倍
- **弧度垭口**：弧度部分价格×3倍

#### 3. 木饰面超高加价规则
- **造型木饰面**：
  - 高度>2420mm≤3500mm，加价20%
  - 高度>3500mm，加价40%
- **平板木饰面**：
  - 高度>3000mm≤3500mm，加价10%
  - 高度>3500mm，加价40%
- **宽度超规格**：>1200mm，加价30%

#### 4. 柜类产品超高加价规则
- **柜体深度**：超600mm，单价×1.2倍
- **压线超高**：超2420mm加30%
- **层板长度**：超2420mm加10%
- **台面深度**：超900mm加20%

### 问题原因分析

#### 1. 数据复杂性
- 超高部分涉及**动态价格计算**，不是固定价格
- 需要根据具体尺寸实时计算加价金额
- 涉及多个维度的组合计算（高度、宽度、厚度等）

#### 2. 系统架构限制
- 当前SKU模型主要支持**固定价格**产品
- 缺少**动态定价引擎**
- 没有**尺寸参数化**的价格计算机制

#### 3. 业务逻辑复杂
- 不同产品类型有不同的加价规则
- 多项超标系数需要累加计算
- 需要考虑最小计价单位和阈值

### 解决方案

#### 方案1：扩展SKU模型（推荐）
1. **添加尺寸属性**：为产品添加标准尺寸和最大尺寸属性
2. **创建加价规则表**：存储各种超标加价规则
3. **实现动态定价**：在应用层实现价格计算逻辑

```sql
-- 创建加价规则表
CREATE TABLE products_pricing_rule (
    id SERIAL PRIMARY KEY,
    spu_id INTEGER REFERENCES products_spu(id),
    rule_type VARCHAR(50) NOT NULL, -- 'height', 'width', 'depth'
    threshold_value DECIMAL(10,2) NOT NULL, -- 阈值
    unit_increment DECIMAL(10,2) NOT NULL, -- 每单位增量
    price_increment DECIMAL(10,2) NOT NULL, -- 每单位加价
    multiplier DECIMAL(5,2) DEFAULT 1.0, -- 倍数系数
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- 创建产品尺寸表
CREATE TABLE products_dimension (
    id SERIAL PRIMARY KEY,
    sku_id INTEGER REFERENCES products_sku(id),
    dimension_type VARCHAR(50) NOT NULL, -- 'height', 'width', 'depth'
    standard_value DECIMAL(10,2) NOT NULL, -- 标准值
    max_value DECIMAL(10,2), -- 最大值
    min_value DECIMAL(10,2), -- 最小值
    unit VARCHAR(10) DEFAULT 'mm' -- 单位
);
```

#### 方案2：创建超高规格SKU
为常用的超高规格创建独立的SKU，预计算价格。

#### 方案3：配置化价格计算
在系统配置中定义加价规则，通过配置文件管理。

### 建议实施步骤

1. **第一阶段**：补充标准尺寸信息到现有SKU
2. **第二阶段**：创建加价规则表和相关数据
3. **第三阶段**：实现动态价格计算接口
4. **第四阶段**：前端支持自定义尺寸输入和价格计算

### 数据完整性影响

由于缺失超高部分数据，当前系统存在以下限制：
- 无法处理非标准尺寸的产品报价
- 无法自动计算超标准规格的加价
- 需要人工计算和确认特殊规格产品价格

### 后续改进建议

1. **优先级1**：补充标准尺寸信息
2. **优先级2**：实现基础的超高加价计算
3. **优先级3**：支持复杂的多维度加价规则
4. **优先级4**：集成到订单系统和报价系统

这个问题不是系统技术能力限制，而是数据模型设计和业务逻辑实现的复杂性导致的。建议分阶段实施，逐步完善超高部分的数据和功能。 